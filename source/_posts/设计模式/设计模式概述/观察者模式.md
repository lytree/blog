---
title: 观察者模式
date: 2022-10-30T11:21:56Z
lastmod: 2022-10-30T11:21:56Z
---

# 观察者模式

## 观察者模式

> 对象间一种一对多的依赖关系，每当一个对象放生改变，其依赖对象也发生改变

### 角色分配

- Subject: 抽象目标
- ConcreteSubject: 具体目标
- Observer: 观察者
- ConcreteObserver: 具体观察者

　　![image.png](assets/net-img-1602998399972-d63036ef-500b-49ae-a31a-84a558efb1ae-20221030124502-upt9d1p.png)
**案例**

```java
// 抽象目标
public interface Subject {
    List<People> peopleList = new ArrayList<>();

    default void add(People people) {
        peopleList.add(people);
    }

    default void remove(People people) {
        peopleList.remove(people);
    }

    void update();
}
// 具体目标
public class NewsSubject implements Subject{
    public void update() {
        for (People people : peopleList) {
            News news = new News();
            news.setContent("今日在大街上，有人躲在草丛中袭击路人，还大喊“德玛西亚万岁”");
            news.setTitle("德玛西亚出现了");
            people.update(news);
        }
    }
}
//抽象观察者
public interface People {
    void update(News news);
}
//具体观察者
public class PeopleA implements People {
    @Override
    public void update(News news) {
        System.out.println("这个新闻真好看");
    }
}
public class PeopleB implements People {
    @Override
    public void update(News news) {
        System.out.println("这个新闻真无语");
    }
}
public class PeopleC implements People {
    @Override
    public void update(News news) {
        System.out.println("这个新闻真逗");
    }
}
```
